{"ast":null,"code":"import _slicedToArray from\"/Users/Naz/Desktop/projects/star_game/3five/lucky_chen/lucky_chin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import firebase from'../../firebase';var ItemEditForm=function ItemEditForm(_ref){var item=_ref.item;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),dataItem=_useState2[0],setDataItem=_useState2[1];//data form\nvar _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),itemName=_useState4[0],setItemName=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),quantity=_useState6[0],setQuantity=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),purchaseDate=_useState8[0],setPurchaseDate=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),purchaseP=_useState10[0],setPurchaseP=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),expiryDate=_useState12[0],setExpiryDate=_useState12[1];var ref=firebase.firestore().collection('inventory').doc(item);useEffect(function(){ref.get().then(function(doc){if(doc.exists){var data=doc.data();setDataItem(doc.data());setItemName(data.itemName);setQuantity(data.quantity);setPurchaseDate(data.purchaseDate);setPurchaseP(data.purchaseP);setExpiryDate(data.expiryDate);}else{// doc.data() will be undefined in this case\n}});},[]);var submitEdit=function submitEdit(event){var result={quantity:quantity,expiryDate:expiryDate,itemName:itemName,purchaseDate:purchaseDate,purchaseP:purchaseP};ref.set(result).then(console.log('sucess upload'));event.preventDefault();};return/*#__PURE__*/React.createElement(React.Fragment,null,dataItem?/*#__PURE__*/React.createElement(\"form\",{onSubmit:function onSubmit(e){return submitEdit(e);}},\" \",/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"name\"},\"Item Name:\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"name\",id:\"name\",defaultValue:dataItem.itemName,onChange:function onChange(e){return setItemName(e.currentTarget.value);}}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"quantity\"},\"Quantity:\"),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",name:\"quantity\",id:\"quantity\",min:\"0\",defaultValue:dataItem.quantity,onChange:function onChange(e){return setQuantity(e.currentTarget.value);}}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"dop\"},\"Date of Purchase:\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"dop\",id:\"dop\",defaultValue:dataItem.purchaseDate,onChange:function onChange(e){return setPurchaseDate(e.currentTarget.value);}}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"ed\"},\"Expiry Date:\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"ed\",id:\"ed\",defaultValue:dataItem.expiryDate,onChange:function onChange(e){return setExpiryDate(e.currentTarget.value);}}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"pp\"},\"Purchased Price\"),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",name:\"pp\",id:\"pp\",step:\"0.01\",min:\"0\",defaultValue:dataItem.purchaseP,onChange:function onChange(e){return setPurchaseP(e.currentTarget.value);}}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"supplier\"},\"Supplier:\"),/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",value:\"save\"})):/*#__PURE__*/React.createElement(\"h1\",null,\"loading\"));};export default ItemEditForm;","map":{"version":3,"sources":["/Users/Naz/Desktop/projects/star_game/3five/lucky_chen/lucky_chin/src/components/inventory/ItemEditForm.js"],"names":["React","useEffect","useState","firebase","ItemEditForm","item","dataItem","setDataItem","itemName","setItemName","quantity","setQuantity","purchaseDate","setPurchaseDate","purchaseP","setPurchaseP","expiryDate","setExpiryDate","ref","firestore","collection","doc","get","then","exists","data","submitEdit","event","result","set","console","log","preventDefault","e","currentTarget","value"],"mappings":"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","sourcesContent":["import React,{useEffect,useState} from 'react';\nimport firebase from '../../firebase'\n\nconst ItemEditForm = ({item}) => {\n\n  const [dataItem,setDataItem] = useState(null);\n  \n  //data form\n  const [itemName, setItemName] = useState('')\n  const [quantity, setQuantity] = useState('')\n  const [purchaseDate, setPurchaseDate] = useState('')\n  const [purchaseP, setPurchaseP] = useState('')\n  const [expiryDate, setExpiryDate] = useState('')\n\n  const ref = firebase.firestore().collection('inventory').doc(item)\n  useEffect(() =>{\n      ref.get().then(function(doc) {\n      if (doc.exists) {\n        const data = doc.data();\n        setDataItem(doc.data());\n        setItemName(data.itemName);\n        setQuantity(data.quantity)\n        setPurchaseDate(data.purchaseDate)\n        setPurchaseP(data.purchaseP)\n        setExpiryDate(data.expiryDate)\n           \n      } else {\n          // doc.data() will be undefined in this case\n          \n      }\n  })\n    \n  }, [])\n\n  const submitEdit = (event) => {\n\n      const result =  {quantity: quantity, expiryDate: expiryDate, itemName: itemName, purchaseDate: purchaseDate, purchaseP: purchaseP}\n    ref.set(result).then(console.log('sucess upload'));\n    event.preventDefault();\n  }\n\n    return(\n      <>\n      { dataItem ?\n\n        \n        <form onSubmit={(e) => submitEdit(e) } > {/*why do the brackets need to be ommited here something about event becoming undefined.*/}\n        \n        <label htmlFor=\"name\">Item Name:</label>\n        <input type=\"text\" name=\"name\" id=\"name\" defaultValue={  dataItem.itemName} onChange={e=>setItemName(e.currentTarget.value)} />\n        \n        <label htmlFor=\"quantity\">Quantity:</label>\n        <input type=\"number\" name=\"quantity\" id=\"quantity\" min=\"0\" defaultValue={  dataItem.quantity} onChange={e=>setQuantity(e.currentTarget.value)} />\n        \n        <label htmlFor=\"dop\">Date of Purchase:</label>\n        <input type=\"text\" name=\"dop\" id=\"dop\" defaultValue={  dataItem.purchaseDate} onChange={e=>setPurchaseDate(e.currentTarget.value)} />\n        \n        <label htmlFor=\"ed\">Expiry Date:</label>\n        <input type=\"text\" name=\"ed\" id=\"ed\" defaultValue={  dataItem.expiryDate} onChange={e=>setExpiryDate(e.currentTarget.value)} />\n        \n        <label htmlFor=\"pp\">Purchased Price</label>\n        <input type=\"number\" name=\"pp\" id=\"pp\" step=\"0.01\" min=\"0\" defaultValue={  dataItem.purchaseP}  onChange={e=>setPurchaseP(e.currentTarget.value)} />\n        \n        <label htmlFor=\"supplier\">Supplier:</label>\n        <input type=\"submit\" value=\"save\" />\n        </form>\n         : <h1>loading</h1>\n      }\n      </>\n    )\n\n\n\n}\n\nexport default ItemEditForm;\n"]},"metadata":{},"sourceType":"module"}